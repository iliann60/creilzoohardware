<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CREILZOOHARDWARE | 3D Configurator</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { slate: { 950: '#020617' }, cyan: { 400: '#22d3ee' } }
                }
            }
        }
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #020617; color: white; overflow-x: hidden; }
        .glass { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.05); }
        #canvas-container { width: 100%; height: 500px; cursor: grab; }
        #canvas-container:active { cursor: grabbing; }
    </style>
</head>
<body>

<nav class="fixed w-full z-[100] py-6 px-10 flex justify-between items-center pointer-events-none">
    <div class="text-2xl font-black tracking-tighter pointer-events-auto">
        <a href="index.html" class="hover:opacity-80 transition-opacity">
            CREILZOO<span class="text-cyan-400">HARDWARE</span>
        </a>
    </div>
    <div class="glass px-6 py-2 rounded-full text-[10px] font-black tracking-[0.2em] uppercase pointer-events-auto">
        Moteur de rendu 3D actif
    </div>
</nav>

<main class="grid lg:grid-cols-12 min-h-screen">
    
    <div class="lg:col-span-3 p-10 pt-32 space-y-6 z-10 bg-gradient-to-r from-slate-950 to-transparent">
        <h2 class="text-xs font-black text-slate-500 uppercase tracking-widest mb-10">Sélectionner un Châssis</h2>
        
        <button onclick="loadModel('gaming')" class="w-full p-6 glass rounded-3xl text-left hover:border-cyan-400 transition-all group">
            <i class="ph ph-shield-checkered text-2xl text-cyan-400 mb-2"></i>
            <h4 class="font-black uppercase tracking-tighter">Full Tower Gaming</h4>
            <p class="text-[10px] text-slate-400 mt-1">E-ATX • Airflow Max • RGB Sync</p>
        </button>

        <button onclick="loadModel('workstation')" class="w-full p-6 glass rounded-3xl text-left hover:border-violet-400 transition-all">
            <i class="ph ph-cube text-2xl text-violet-400 mb-2"></i>
            <h4 class="font-black uppercase tracking-tighter">Workstation Pro</h4>
            <p class="text-[10px] text-slate-400 mt-1">Dual GPU Ready • Insonorisé</p>
        </button>

        <button onclick="loadModel('minimal')" class="w-full p-6 glass rounded-3xl text-left hover:border-emerald-400 transition-all">
            <i class="ph ph-bounding-box text-2xl text-emerald-400 mb-2"></i>
            <h4 class="font-black uppercase tracking-tighter">Small Form Factor</h4>
            <p class="text-[10px] text-slate-400 mt-1">ITX • Ultra Compact • Discret</p>
        </button>
    </div>

    <div class="lg:col-span-6 relative flex items-center justify-center">
        <div id="canvas-container"></div>
        
        <div class="absolute bottom-10 glass p-6 rounded-3xl flex gap-10 text-center">
            <div>
                <span class="block text-[10px] font-bold text-slate-500 uppercase italic">Rotation</span>
                <span class="text-sm font-black">360° AUTO</span>
            </div>
            <div class="w-[1px] bg-white/10"></div>
            <div>
                <span class="block text-[10px] font-bold text-slate-500 uppercase italic">Rendu</span>
                <span class="text-sm font-black text-cyan-400">REAL-TIME</span>
            </div>
        </div>
    </div>

    <div class="lg:col-span-3 p-10 pt-32 z-10 bg-gradient-to-l from-slate-950 to-transparent">
        <div class="glass h-[600px] rounded-[40px] flex flex-col overflow-hidden border-white/5">
            <div class="p-6 bg-white/5 flex items-center gap-3">
                <div class="w-3 h-3 bg-emerald-500 rounded-full animate-pulse"></div>
                <span class="text-[10px] font-black uppercase tracking-widest">Assistant Intelligent v1.0</span>
            </div>
            
            <div id="chat-box" class="flex-1 p-6 space-y-4 overflow-y-auto text-sm">
                <div class="bg-slate-800/40 p-4 rounded-2xl rounded-tl-none border border-white/5">
                    Bonjour. J'ai chargé le moteur 3D. Quel type de composants souhaitez-vous simuler dans ce boîtier ?
                </div>
            </div>

            <div class="p-4 bg-slate-900/50">
                <div class="relative">
                    <input type="text" id="ai-input" placeholder="Parler à l'IA..." class="w-full bg-slate-950 border border-white/10 rounded-2xl p-4 text-xs outline-none focus:border-cyan-400 transition-all">
                    <button onclick="handleAI()" class="absolute right-2 top-2 bg-cyan-400 text-slate-950 p-2 rounded-xl">
                        <i class="ph-bold ph-paper-plane-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
    // --- LOGIQUE 3D (Standard) ---
    let scene, camera, renderer, currentPC;
    let pointLight, ambientLight;

    function init3D() {
        const container = document.getElementById('canvas-container');
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(50, container.clientWidth / container.clientHeight, 0.1, 1000);
        renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(container.clientWidth, container.clientHeight);
        container.appendChild(renderer.domElement);
        ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);
        pointLight = new THREE.PointLight(0x22d3ee, 2, 10);
        pointLight.position.set(2, 2, 2);
        scene.add(pointLight);
        loadModel('gaming');
        camera.position.z = 6;
        animate();
    }

    function createPC(width, height, depth, color, glowColor) {
        if (currentPC) scene.remove(currentPC);
        const group = new THREE.Group();
        const mainGeo = new THREE.BoxGeometry(width, height, depth);
        const mainMat = new THREE.MeshPhongMaterial({ color: 0x0f172a, transparent: true, opacity: 0.6, shininess: 100 });
        const chassis = new THREE.Mesh(mainGeo, mainMat);
        group.add(chassis);
        const wireframe = new THREE.EdgesGeometry(mainGeo);
        const lineMat = new THREE.LineBasicMaterial({ color: color, linewidth: 2 });
        const edges = new THREE.LineSegments(wireframe, lineMat);
        group.add(edges);
        const compGeo = new THREE.BoxGeometry(width * 0.8, 0.3, depth * 0.7);
        const compMat = new THREE.MeshPhongMaterial({ color: 0x1e293b });
        const gpu = new THREE.Mesh(compGeo, compMat);
        gpu.position.y = -0.2;
        group.add(gpu);
        const internalLight = new THREE.PointLight(glowColor, 3, 3);
        internalLight.position.set(0, 0, 0);
        group.add(internalLight);
        currentPC = group;
        scene.add(currentPC);
        pointLight.color.setHex(glowColor);
    }

    function loadModel(type) {
        if(type === 'gaming') createPC(2, 2.5, 1.2, 0x22d3ee, 0x00ffff);
        else if(type === 'workstation') createPC(2.2, 2.8, 1.5, 0x7c3aed, 0x7c3aed);
        else if(type === 'minimal') createPC(1.2, 1.5, 1.2, 0x10b981, 0x10b981);
    }

    function animate() {
        requestAnimationFrame(animate);
        if(currentPC) {
            currentPC.rotation.y += 0.005;
            currentPC.rotation.x = Math.sin(Date.now() * 0.001) * 0.1;
        }
        renderer.render(scene, camera);
    }

    // --- MEGA BASE DE DONNÉES IA ---
    
    const responses = {
        salutations: {
            keywords: ["bonjour", "salut", "hello", "coucou", "wesh", "yo", "hey"],
            lines: [
                "Bonjour ! Je suis l'expert CREILZOO. Prêt à bâtir une légende ?",
                "Salut ! On configure quoi aujourd'hui ? Un monstre de puissance ou un PC discret ?",
                "Hello ! Quel plaisir de vous voir sur le configurateur."
            ]
        },
        gaming_ultra: {
            keywords: ["gaming", "jeu", "gamer", "fortnite", "warzone", "cyberpunk", "fps", "4k", "performance"],
            lines: [
                "Pour le Gaming Ultra, je vous suggère une **RTX 4090**. C'est le seul moyen de dominer Cyberpunk en 4K.",
                "Pour les jeux compétitifs (Valorant/CS2), visez un écran 360Hz et un processeur **Ryzen 7 7800X3D**, le roi actuel du jeu.",
                "Dans ce boîtier, on peut mettre un GPU de 400mm sans problème. Idéal pour le gaming lourd.",
                "N'oubliez pas le Ray Tracing ! Avec une config haut de gamme, l'immersion est totale."
            ]
        },
        travail_pro: {
            keywords: ["travail", "montage", "3d", "blender", "adobe", "video", "rendu", "architecture", "pro"],
            lines: [
                "Pour le rendu 3D, le nombre de cœurs est vital. Un **Intel i9-14900K** ou un **Threadripper** serait parfait.",
                "Si vous faites du montage vidéo 8K, il vous faut au moins 64 Go de RAM DDR5.",
                "La stabilité est la priorité. Je recommande une alimentation certifiée **80+ Platinum** pour les stations de travail.",
                "Pour Blender, privilégiez Nvidia pour profiter des cœurs CUDA qui accélèrent drastiquement les rendus."
            ]
        },
        streaming: {
            keywords: ["stream", "twitch", "youtube", "diffuser", "obs", "live"],
            lines: [
                "Pour streamer sans perte de FPS, l'encodeur **NVENC** des cartes Nvidia est indispensable.",
                "Un processeur avec au moins 10 cœurs permettra de gérer OBS, votre jeu et votre chat en simultané.",
                "Pensez à une carte de capture dédiée si vous voulez streamer du contenu console via votre PC."
            ]
        },
        refroidissement: {
            keywords: ["chauffe", "température", "chaud", "bruit", "ventilo", "watercooling", "aio", "silence"],
            lines: [
                "Pour ce boîtier, un **Watercooling (AIO) de 360mm** en haut serait optimal.",
                "Si vous cherchez le silence absolu, les ventilateurs **Noctua** ou **be quiet!** sont les meilleures options.",
                "L'airflow est crucial. Je conseille 3 ventilateurs en façade pour aspirer l'air frais."
            ]
        },
        budget_eco: {
            keywords: ["prix", "argent", "budget", "cher", "euros", "€", "eco", "moins cher", "promotion"],
            lines: [
                "On peut baisser la facture en restant sur du **AM4 (DDR4)**. C'est encore très performant pour le prix.",
                "Pour un PC budget, la **RX 6750 XT** d'AMD offre un rapport perf/prix imbattable.",
                "Dites-moi votre budget maximum (ex: 1000€) et je vous ferai la meilleure liste possible.",
                "L'occasion peut être une option pour le boîtier, mais achetez toujours l'alimentation NEUVE !"
            ]
        },
        stockage: {
            keywords: ["stockage", "disque", "ssd", "go", "to", "place", "mémoire"],
            lines: [
                "Aujourd'hui, le standard c'est le **SSD NVMe Gen4**. C'est 10x plus rapide qu'un SSD classique.",
                "Pour une grosse bibliothèque de jeux, un disque de 2 To est devenu le minimum confortable.",
                "Si vous faites du montage, séparez votre système (SSD 500Go) de vos fichiers de travail (SSD 2To)."
            ]
        },
        easter_eggs: {
            keywords: ["nu", "beurre", "manger", "tue", "amour", "nul", "stupide", "humain", "merde", "ptn", "pue", "ntm", "pd"],
            lines: [
                "Je suis une IA, je ne mange pas, mais j'adore dévorer les données de benchmark !",
                "L'erreur est humaine... mais pour vraiment tout casser, il faut un ordinateur.",
                "Je ne suis pas nul, je suis juste configuré en mode économie d'énergie là."
            ]
        },    
        acces_compte: {
            keywords: ["connecter", "compte", "identifiant", "mot de passe", "log", "login", "connexion"],
            lines: [
                "Pas besoin de créer un nouveau compte ! Utilisez simplement vos identifiants **CREILZOOHARDWARE** pour accéder à GLPI. Si vous n'en avez pas contactez nous via contactdhardware@gmail.com !",
                "Votre compte Support est créé automatiquement lors de votre première commande ou premier contact via mail. C'est simple et rapide.",
                "Nous utilisons un système de **Single Sign-On (SSO)** : un seul compte pour configurer votre PC et accéder au SAV.",
                "Si vous avez oublié vos accès, vous pouvez les réinitialiser directement via mail en nous contactant"
            ]
        }
    };

    const fallback = `
        <div class="space-y-2">
            <p>Désolé, mes bases de données sont limitées. Essayez de me parler de :</p>
            <div class="flex flex-wrap gap-2">
                <span class="bg-cyan-400/20 text-cyan-400 px-2 py-1 rounded text-[10px]">GAMING</span>
                <span class="bg-violet-400/20 text-violet-400 px-2 py-1 rounded text-[10px]">TRAVAIL PRO</span>
                <span class="bg-emerald-400/20 text-emerald-400 px-2 py-1 rounded text-[10px]">BUDGET</span>
                <span class="bg-orange-400/20 text-orange-400 px-2 py-1 rounded text-[10px]">STREAMING</span>
                <span class="bg-blue-400/20 text-blue-400 px-2 py-1 rounded text-[10px]">SILENCE</span>
            </div>
        </div>
    `;

    async function handleAI() {
        const input = document.getElementById('ai-input');
        const userMsg = input.value.trim();
        const lowMsg = userMsg.toLowerCase();
        
        if(!userMsg) return;

        // Affichage message utilisateur
        const box = document.getElementById('chat-box');
        box.innerHTML += `<div class="flex justify-end mb-4"><div class="bg-cyan-400 text-slate-950 p-3 rounded-2xl rounded-tr-none text-xs font-bold max-w-[80%]">${userMsg}</div></div>`;
        input.value = "";
        box.scrollTop = box.scrollHeight;

        // Loader
        const loadingId = "load-" + Date.now();
        box.innerHTML += `<div id="${loadingId}" class="flex justify-start mb-4"><div class="bg-slate-800 p-3 rounded-2xl rounded-tl-none text-xs text-slate-400 italic">CREILZOO réfléchit...</div></div>`;
        box.scrollTop = box.scrollHeight;

        setTimeout(() => {
            document.getElementById(loadingId).remove();
            let finalResponse = "";

            // Parcours de toutes les catégories pour trouver un mot-clé
            for (const category in responses) {
                if (responses[category].keywords.some(key => lowMsg.includes(key))) {
                    finalResponse = responses[category].lines[Math.floor(Math.random() * responses[category].lines.length)];
                    
                    // Optionnel : Changement automatique de modèle 3D selon le sujet
                    if(category === 'gaming_ultra') loadModel('gaming');
                    if(category === 'travail_pro') loadModel('workstation');
                    if(category === 'budget_eco') loadModel('minimal');
                    
                    break;
                }
            }

            if (!finalResponse) finalResponse = fallback;
            addBotMsg(finalResponse);
        }, 700);
    }

    function addBotMsg(text) {
        const box = document.getElementById('chat-box');
        box.innerHTML += `
            <div class="flex justify-start mb-4">
                <div class="bg-white/5 border border-white/5 p-4 rounded-2xl rounded-tl-none text-xs text-slate-300 max-w-[85%] leading-relaxed">
                    <span class="block font-black text-cyan-400 text-[10px] mb-1 uppercase tracking-wider">CREILZOO IA</span>
                    ${text}
                </div>
            </div>`;
        box.scrollTop = box.scrollHeight;
    }

    document.getElementById('ai-input').addEventListener('keypress', (e) => { if(e.key === 'Enter') handleAI(); });
    window.onload = init3D;
</script>
</body>
</html>
